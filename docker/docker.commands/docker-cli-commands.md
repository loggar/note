# Top 10 Docker CLI commands

1.  [docker ps](https://docs.docker.com/engine/reference/commandline/ps/) — Lists running containers. Some useful flags include: `-a` / `-all` for all containers (default shows just running) and `—-quiet` /`-q` to list just their ids (useful for when you want to get all the containers).
2.  [docker pull](https://docs.docker.com/engine/reference/commandline/pull/) — Most of your images will be created on top of a base image from the [Docker Hub](https://hub.docker.com/) registry. [Docker Hub](https://hub.docker.com/) contains many pre-built images that you can `pull` and try without needing to define and configure your own. To download a particular image, or set of images (i.e., a repository), use `docker pull`.
3.  [docker build](https://docs.docker.com/engine/reference/commandline/build/) — The `docker build` command builds Docker images from a Dockerfile and a “context”. A build’s context is the set of files located in the specified `PATH` or `URL`. Use the `-t` flag to label the image, for example `docker build -t my_container .` with the `.` at the end signalling to build using the currently directory.
4.  [docker run](https://docs.docker.com/engine/reference/run/) — Run a docker container based on an image, you can follow this on with other commands, such as `-it bash` to then run bash from within the container. _Also see_ [_Top 10 options for docker run — a quick reference guide for the CLI command_](https://medium.com/the-code-review/top-10-docker-run-command-options-you-cant-live-without-a-reference-d256834e86c1)_._ `docker run my_image -it bash`
5.  [docker logs ](https://docs.docker.com/engine/reference/commandline/logs/)— Use this command to display the logs of a container, you must specify a container and can use flags, such as `--follow` to follow the output in the logs of using the program. `docker logs --follow my_container`
6.  [docker volume ls](https://docs.docker.com/engine/reference/commandline/volume_ls/) — This lists the [volumes](https://docs.docker.com/storage/volumes/), which are the preferred mechanism for persisting data generated by and used by Docker containers.
7.  [docker rm](https://docs.docker.com/engine/reference/commandline/rm/) — Removes one or more containers. `docker rm my_container`
8.  [docker rmi ](https://docs.docker.com/engine/reference/commandline/rmi/)— Removes one or more images. `docker rmi my_image`
9.  [docker stop](https://docs.docker.com/engine/reference/commandline/stop/) — Stops one or more containers. `docker stop my_container` stops one container, while `docker stop $(docker ps -a -q)` stops all running containers. A more direct way is to use `docker kill my_container`, which does not attempt to shut down the process gracefully first.
10. Use them together, for example to clean up all your docker images and containers:

- kill all running containers with `docker kill $(docker ps -q)`
- delete all stopped containers with `docker rm $(docker ps -a -q)`
- delete all images with `docker rmi $(docker images -q)`

## docker engine commands

- `docker build` — builds an image from a Dockerfile
- `docker images` — displays all Docker images on that machine
- `docker run` — starts container and runs any commands in that container
- there’s multiple options that go along with docker run including
  - `-p` — allows you to specify ports in host and Docker container
  - `-it` — opens up an interactive terminal after the container starts running
  - `-v` — bind mount a volume to the container
  - `-e` — set environmental variables
  - `-d` — starts the container in daemon mode (it runs in a background process)
- `docker rmi` — removes one or more images
- `docker rm` — removes one or more containers
- `docker kill` — kills one or more running containers
- `docker ps` — displays a list of running containers
- `docker tag` — tags the image with an alias that can be referenced later (good for versioning)
- `docker login` — login to Docker registry

## examples

```
docker build -t user1/node-example .
```

This says to Docker: build (`build`) the image from the Dockerfile at the root level (`.`) and tag it `-t` as `user1/node-example`. Don’t forget the period — this is how Docker knows where to look for the Dockerfile.

```
docker run -p 3003:8080 -d user1/node-example
```

This tells Docker to run (`run`) the image that was built and tagged as `user1/node-example`, expose port 3003 on the host machine and look for port 8080 inside the Docker container (`-p 3003:8080`), and start the process as a background daemon process (`-d`).

## Docker kill vs Docker stop

- docker stop, this sends the signal `SIGTERM` followed by `SIGKILL` after a grace period. In short, this is a way to bring down the container in a more graceful way meaning it gets to release resources and saving state.
- docker kill, this sends `SIGKILL` right away. This means resource release or state save might not work as intended. In development, it doesn’t really matter which one of the two commands are being used but in a production scenario it probably wiser to rely on `docker stop`
