정규 표현식 - 문자 집합으로 찾기
http://sweeper.egloos.com/3064431 

```
1. 여러 문자 중 하나와 일치시키기

"정규 표현식 - 문자 찾기" 문서에서 살펴본 대로 .(마침표)는 뉴라인을 제외한 아무 문자 하나와 일치한다.
아무 문자 말고, 몇몇 개의 문자를 지정해 이들 중 하나를 일치시키고자 할 때 아래와 같이 문자 집합을 사용해야 한다.

[예문]
cat cal com cut cam

[정규 표현식]
c[ou]. 

[결과]
cat cal com cut cam

메타 문자인 [](대괄호)를 사용해 문자 집합을 표현한다.
[](대괄호) 안에 있는 문자는 모두 집합의 구성원이 되며, 집합에 속한 문자 가운데 하나가 일치한다.

위 예제에서는 [ou]로 문자 집합을 구성하였으니, "o" 또는 "u"가 일치하게 되는 것이다.

그리고 아래 예제처럼 문자 집합을 활용해 검색할 부분의 특정 영역만 대소문자를 구별하지 않도록 할 수 있다.

[예문]
"Regular expression"  is often abbreiviated as "Regex" or "regex"

[정규 표현식]
[Rr]egex

[결과]
"Regular expression"  is often abbreiviated as "Regex" or "regex"

대문자 "R" 또는 소문자 "r"이 포함되어 있으면 일치하므로, Regex, regex 모두 검색되는 것이다.


2. 문자 집합 범위 사용하기

아래 예문에서 숫자를 모두 찾고 싶다면, 문자 집합을 다음과 같이 사용해야 한다.

[예문]
I'm born in 1977. I'm 36 years old.

[정규 표현식]
[0123456789]

[결과]
I'm born in 1977. I'm 36 years old.

0부터 9까지 숫자를 검색했으므로, 1, 9, 7, 7, 3, 6 여섯개의 숫자가 일치했다.
그런데, 이거 너무 번거롭고 귀찮은 데다가 잘못해서 문자 집합([])안에 숫자를 하나 빼먹기라도 하면, 쉽게 문제를 찾기 힘들 수 있다.

이러한 불편함을 해소하고, 정규 표현식을 명확하게 표현하기 위해 문자 집합([])안에서만 의미를 가지는 범위 지정자 -(하이픈)을 제공한다.

위 예제의 정규 표현식을 다음과 같이 고쳐보고, 다시 결과를 살펴보면 이해가 갈 것이다.

[정규 표현식]
[0-9]

범위 지정자는 비단 숫자뿐 아니라, 영문자에도 적용이 가능하다.

[정규 표현식]
[a-z]

위 문자 집합은 범위 지정자를 활용하여, a, b, c, ... ,z 까지의 문자 중 하나 일치를 의미하게 된다.

다시 정리하자면, 범위 지정자 -(하이픈)은 문자 집합([])안에서 사용되며, [시작값-마지막값]의 형태로 사용한다.
혹여나 해서 첨언하자면, 시작값이 마지막값보다 크게 설정되지 않도록 주의해서 사용해야 한다.
시작값이 마지막값보다 더 크면 당연히 검색이 제대로 이루어지지 않는다.

그리고, 하나의 문자 집합([])안에서 여러 개의 범위 지정자를 함께 사용할 수 있다.
아래 정규 표현식은 모든 영문자(대소문자 포함)와 숫자를 일치시킬 수 있다.

[정규 표현식]
[A-Za-z0-9]

지금까지 보다시피 범위 지정자 -(하이픈)을 사용하면, 정규 표현식이 훨씬 더 깔끔해진다.
문자 집합([])과 범위 지정자 -(하이픈)의 조합은 꽤 많이 사용되므로, 확실히 이해하기 위해 예제를 하나 더 살펴보자.

[예문]
<BODY BGCOLOR="#336633 TEXT="#FFFFFF" MARGINWIDTH="0">

[정규 표현식]
#[A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9]

[결과]
<BODY BGCOLOR="#336633" TEXT="#FFFFFF" MARGINWIDTH="0">

#다음의 6글자를 찾아야 하며, 이 6글자는 영문자 A~F(대소문자)와 숫자일 수 있다.
그래서 문자 집합([])이 6번 반복되었다.

이것을 간단하게 표시하는 방법은 "정규 표현식 - 수량자" 문서의 "구간 지정하기" 챕터에서 살펴볼 수 있다.
지금은 기본을 충실하게 하자는 의미에서 완전히 풀어서 작성해 보았다.


3. 제외하고 찾기

문자 집합([])은 일반적으로 찾고 싶은 문자의 목록을 정하는 데 쓰지만,
반대로 찾을 때 제외하고 싶은 문자 목록을 정할 때도 쓸 수 있다.

몇개만 빼고 대부분의 문자를 포함해야 하는 경우, 정규 표현식이 너무 길어질 수 있으므로,
찾고자 하는 문자를 모두 나열하기 보다는 제외시키고 싶은 녀석을 지정하는 게 더 편하다.

문자 집합([])의 시작에 ^(캐럿)을 사용하면, 이 문자 집합에 포함된 모든 문자를 검색에서 제외시킨다.

[예문]
ax a1 aO a0

[정규 표현식]
a[^x0-9]

[결과]
ax a1 aO a0

소문자 "a"로 시작하는 두 글자를 찾되, 소문자 "x"와 숫자가 포함된 것을 제외시키고 싶을 때 위와 같이 작성하면 된다.
소문자 "x"를 제외하기가 아닌 방식으로 찾는다면, 아래와 같이 정규 표현식이 길어지게 된다.

[정규 표현식]
a[a-wyz0-9]

^(캐럿)은 멀티 라인 문자열의 시작을 알리는 메타 문자이기도 하다.
("정규 표현식 - 앵커" 문서의 "문자열 경계" 챕터 참고)
따라서, 제외하고 찾기로 사용시 반드시 문자 집합([])안에서 사용해야 함을 잊지 말자.


4. 정리

메타 문자인 []는 문자 집합을 의미하는데, 그 집합 구성원 중 하나라도 일치하면 된다.
그리고, 문자 집합([])안에서 범위와 제외를 지정할 수 있다.
문자 집합([]) 안에서의 -(하이픈)은 범위 지정자로 사용된다.
문자 집합([]) 안에서의 ^(캐럿)은 문자 집합에 포함된 모든 문자를 검색에서 제외시킨다.
출처:정규 표현식 - 문자 집합으로 찾기
```